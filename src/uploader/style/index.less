@import './base.less';

@mi-uploader: ~'@{mi-prefix}uploader';
.@{mi-uploader} {
    &-container {
        position: relative;
        .letter-spacing();
    }

    &-image {
        .properties(width, 138);
		.properties(height, 160);
		.properties(padding, 8);
        .border-radius(4);
        .flex();
        color: @mi-font-color;
        border: 1px solid @mi-theme-color;
        background-color: @mi-body-color;
        .properties(font-size, 14);
        position: relative;
        overflow: hidden;

        &-icon {
            .flex();
            flex-direction: column;

            span.anticon {
                .properties(font-size, 42);
                .properties(margin-bottom, 12);
                color: @mi-font-color;
            }
        }

        &-preview {
            position: absolute;
			top: 0;
			left: 0;
			.border-radius(4);
			width: 100%;
			height: 100%;
            .flex();
            flex-direction: column;
        }

        &-input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;

            input {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                visibility: visible;
                opacity: 0;
                filter: opacity(0);
                z-index: 30;
                cursor: pointer;
                outline: none;
            }
        }

        &-progress {
            position: absolute;
			top: 0;
			left: 0;
			.border-radius(4);
			width: 100%;
			height: 100%;
            .flex();
            background: fade(@mi-black-color, 50%);

            .progress {
                .flex();
				.properties(width, 80);
				.properties(height, 80);
				.border-radius-circle();
				background: @mi-white-color;
				position: absolute;
            }

            .wrapper {
                .properties(width, 40);
                .properties(height, 80);
                overflow: hidden;
                position: relative;

                .left,
                .right {
                    .properties(width, 80);
                    .properties(height, 80);
                    .border-radius-circle();
                    position: absolute;
                }

                .left {
                    border-right: 40px solid fade(@mi-theme-color, 60%);
                }

                .right {
                    right: 0;
                    border-left: 40px solid fade(@mi-theme-color, 60%);
                }
            }

            .mask {
                .flex();
                .properties(width, 64);
                .properties(height, 64);
                .border-radius-circle();
                .properties(font-size, 18);
                color: @mi-white-color;
                background: @mi-theme-color;
                position: absolute;
            }
        }

        &-upload-btn {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            .flex();

            .mask {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                background: fade(@mi-black-color, 70%);
                z-index: 10;
            }

            .btn {
                z-index: 40;

                button {
                    background: @mi-theme-color;
                    outline: none;
                    .border-radius-circle();
                    .properties(width, 64);
                    .properties(height, 64);
                    border-color: @mi-theme-color;
                    box-shadow: 0 0 2px @mi-theme-color;
                    color: @mi-white-color;
                    .properties(padding-top, 6);
                    .properties(padding-bottom, 6);
                    .properties(padding-left, 16);
                    .properties(padding-right, 16);
                    .properties(font-size, 14);
                    font-weight: 700;
                    border: none;
                    cursor: pointer;
                    .flex();
                }
            }
            .btn-ripple {
                position: absolute;
                .properties(width, 64);
                .properties(height, 64);
                .flex();
                background: fade(@mi-theme-color, 50%);
                z-index: 20;
                .border-radius-circle();
                animation: mi-scale .8s infinite alternate;
            }
        }
    }
}

@keyframes mi-scale {
    0% {
        transform: scale(1);
    }
    100% {
        transform: scale(1.2);
    }
}